<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OkulFeed - Okul Sosyal Medya</title>
    <link rel="icon" href="data:,">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
    
    <!-- Firebase SDK v8 -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
</head>
<body>
    <!-- Giri≈ü Ekranƒ± -->
    <div id="loginContainer" class="container show">
        <div class="login-box">
            <div class="login-header">
                <h1>OkulFeed</h1>
                <p class="subtitle">Okul topluluƒüuna katƒ±l</p>
            </div>
            
            <div class="form-group">
                <input type="email" id="loginEmail" placeholder="E-posta adresiniz" required>
            </div>
            
            <div class="form-group">
                <input type="password" id="loginPassword" placeholder="≈ûifre" required>
            </div>
            
            <button class="btn btn-primary" id="buttonLogin">Giri≈ü Yap</button>
            
            <div class="divider">VEYA</div>
            
            <button class="btn btn-google" id="buttonGoogleLogin">
                <span>Google ile Giri≈ü Yap</span>
            </button>
            
            <p class="toggle-auth">
                Hesabƒ±nƒ±z yok mu? <a href="#" id="linkRegister">Kayƒ±t Ol</a>
            </p>
        </div>
    </div>

    <!-- Kayƒ±t Ekranƒ± -->
    <div id="registerContainer" class="container">
        <div class="login-box">
            <div class="login-header">
                <h1>OkulFeed</h1>
                <p class="subtitle">Hesap olu≈ütur</p>
            </div>
            
            <div class="form-group">
                <input type="text" id="registerName" placeholder="Adƒ±nƒ±z Soyadƒ±nƒ±z" required>
            </div>
            
            <div class="form-group">
                <input type="email" id="registerEmail" placeholder="E-posta adresiniz" required>
            </div>
            
            <div class="form-group">
                <input type="password" id="registerPassword" placeholder="≈ûifre (min. 6 karakter)" required>
            </div>
            
            <button class="btn btn-primary" id="buttonRegister">Kayƒ±t Ol</button>
            
            <p class="toggle-auth">
                Zaten hesabƒ±nƒ±z var mƒ±? <a href="#" id="linkLogin">Giri≈ü Yap</a>
            </p>
        </div>
    </div>

    <!-- Ana Uygulama Ekranƒ± -->
    <div id="appContainer" class="container">
        <!-- Modern Navbar -->
        <nav class="navbar">
            <div class="navbar-left">
                <div class="navbar-brand" onclick="showFeed()">
                    <span class="brand-icon">üìö</span>
                    <span class="brand-text">OkulFeed</span>
                </div>
                <div class="navbar-search">
                    <input type="text" id="globalSearch" placeholder="Kullanƒ±cƒ± veya g√∂nderi ara..." onkeyup="handleGlobalSearch(event)">
                </div>
            </div>
            <div class="navbar-right">
                <button class="navbar-icon-btn" onclick="showFeed()" title="Ana Sayfa">
                    üè†
                </button>
                <button class="navbar-icon-btn" onclick="showNotifications()" title="Bildirimler" id="notificationBtn">
                    üîî
                    <span class="notification-badge" id="notificationBadge" style="display: none;">0</span>
                </button>
                <button class="navbar-icon-btn" onclick="toggleDarkMode()" title="Dark Mode" id="darkModeBtn">
                    üåô
                </button>
                <div class="navbar-user" onclick="showProfile()">
                    <div class="user-avatar" id="userAvatar">U</div>
                    <span class="user-name" id="userNameNav">Kullanƒ±cƒ±</span>
                </div>
                <button class="btn btn-small btn-outline" id="buttonLogout">√áƒ±kƒ±≈ü</button>
            </div>
        </nav>

        <!-- Ana ƒ∞√ßerik -->
        <div class="app-wrapper">
            <!-- Sol Sidebar (Mobilde gizli) -->
            <aside class="sidebar" id="sidebar">
                <div class="sidebar-menu">
                    <button class="sidebar-item active" onclick="showFeed()" id="menuFeed">
                        <span>üè†</span>
                        <span>Ana Sayfa</span>
                    </button>
                    <button class="sidebar-item" onclick="showProfile()" id="menuProfile">
                        <span>üë§</span>
                        <span>Profil</span>
                    </button>
                    <button class="sidebar-item" onclick="showFriends()" id="menuFriends">
                        <span>üë•</span>
                        <span>Takip√ßiler</span>
                    </button>
                    <button class="sidebar-item" onclick="showChat()" id="menuChat">
                        <span>üí¨</span>
                        <span>Mesajlar</span>
                    </button>
                </div>
            </aside>

            <!-- Ana ƒ∞√ßerik Alanƒ± -->
            <main class="main-content" id="mainContent">
                <!-- Feed Sekmeleri -->
                <div class="feed-tabs">
                    <button class="tab-btn active" onclick="showRecentPosts()" id="tabRecent">Son G√∂nderiler</button>
                    <button class="tab-btn" onclick="showPopularPosts()" id="tabPopular">Pop√ºler</button>
                </div>

                <!-- Post Olu≈üturma Kartƒ± -->
                <div class="post-creator-card">
                    <div class="creator-header">
                        <div class="user-avatar-small" id="creatorAvatar">U</div>
                        <div class="creator-info">
                            <strong id="creatorName">Kullanƒ±cƒ±</strong>
                            <span>Ne payla≈ümak istersin?</span>
                        </div>
                    </div>
                    <div class="creator-form">
                        <textarea id="postContent" placeholder="Ne d√º≈ü√ºn√ºyorsunuz? #hashtag kullanabilirsiniz..." maxlength="500" oninput="updateCharCount()"></textarea>
                        <div class="char-count" id="charCount">0/500</div>
                        <div id="imagePreview" class="image-preview" style="display: none;">
                            <img id="previewImage" src="" alt="√ñnizleme">
                            <button class="remove-image" onclick="removeImagePreview()">√ó</button>
                        </div>
                        <div class="creator-actions">
                            <div class="action-buttons">
                                <label for="postImageInput" class="action-btn">
                                    üì∑ Fotoƒüraf
                                    <input type="file" id="postImageInput" accept="image/*" style="display: none;" onchange="handleImageSelect(event)">
                                </label>
                                <button class="action-btn" onclick="openEmojiPicker()">üòä Emoji</button>
                            </div>
                            <button class="btn btn-primary" id="buttonShare" onclick="createPost()">
                                Payla≈ü
                            </button>
                        </div>
                    </div>
                </div>

                <!-- G√∂nderiler Listesi -->
                <div id="postsList" class="posts-list">
                    <div class="skeleton-post">
                        <div class="skeleton-avatar"></div>
                        <div class="skeleton-content">
                            <div class="skeleton-line"></div>
                            <div class="skeleton-line short"></div>
                        </div>
                    </div>
                    <div class="skeleton-post">
                        <div class="skeleton-avatar"></div>
                        <div class="skeleton-content">
                            <div class="skeleton-line"></div>
                            <div class="skeleton-line short"></div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Saƒü Sidebar (√ñneriler) -->
            <aside class="right-sidebar" id="rightSidebar">
                <div class="widget">
                    <h3>Pop√ºler Hashtag'ler</h3>
                    <div id="popularHashtags" class="hashtag-list"></div>
                </div>
                <div class="widget">
                    <h3>√ñnerilen Kullanƒ±cƒ±lar</h3>
                    <div id="suggestedUsers" class="suggested-users"></div>
                </div>
            </aside>
        </div>

        <!-- Profil Sayfasƒ± -->
        <div id="profileContent" class="app-content" style="display: none;">
            <div class="profile-container">
                <div class="profile-header">
                    <div class="profile-avatar-large" id="profileAvatarLarge">U</div>
                    <div class="profile-info">
                        <h2 id="profileName">Kullanƒ±cƒ± Adƒ±</h2>
                        <p id="profileBio" class="profile-bio">Bio buraya gelecek</p>
                        <div class="profile-stats">
                            <div class="stat-item">
                                <strong id="profilePostCount">0</strong>
                                <span>G√∂nderi</span>
                            </div>
                            <div class="stat-item">
                                <strong id="profileFollowerCount">0</strong>
                                <span>Takip√ßi</span>
                            </div>
                            <div class="stat-item">
                                <strong id="profileFollowingCount">0</strong>
                                <span>Takip</span>
                            </div>
                        </div>
                        <div class="profile-actions">
                            <button class="btn btn-primary" id="profileFollowBtn" onclick="toggleFollow()" style="display: none;">Takip Et</button>
                            <button class="btn btn-secondary" id="profileEditBtn" onclick="editProfile()" style="display: none;">Profili D√ºzenle</button>
                        </div>
                    </div>
                </div>
                <div class="profile-posts">
                    <h3>G√∂nderiler</h3>
                    <div id="profilePostsList" class="posts-list"></div>
                </div>
            </div>
        </div>

        <!-- Arkada≈ülar/Takip√ßiler Ekranƒ± -->
        <div id="friendsContent" class="app-content" style="display: none;">
            <div class="friends-container">
                <h2>Takip√ßiler</h2>
                <div class="friends-tabs">
                    <button class="tab-btn active" onclick="showFollowers()" id="tabFollowers">Takip√ßiler</button>
                    <button class="tab-btn" onclick="showFollowing()" id="tabFollowing">Takip Edilenler</button>
                </div>
                <div class="search-box">
                    <input type="text" id="searchUsers" placeholder="Kullanƒ±cƒ± ara..." onkeyup="searchUsers()">
                </div>
                <div id="usersList" class="users-list"></div>
                <div id="friendsList" class="friends-list"></div>
            </div>
        </div>

        <!-- Chat Ekranƒ± -->
        <div id="chatContent" class="app-content" style="display: none;">
            <div class="chat-container">
                <div class="chat-sidebar">
                    <h3>Mesajlar</h3>
                    <div id="chatList" class="chat-list"></div>
                </div>
                <div class="chat-main">
                    <div id="chatHeader" class="chat-header">
                        <p>Bir konu≈üma se√ßin</p>
                    </div>
                    <div id="chatMessages" class="chat-messages"></div>
                    <div id="chatInputContainer" class="chat-input-container" style="display: none;">
                        <input type="text" id="chatInput" placeholder="Mesaj yazƒ±n..." onkeypress="handleChatKeyPress(event)">
                        <button class="btn btn-primary" id="buttonSendMessage" onclick="sendMessage()">G√∂nder</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal'lar -->
    <div id="modalOverlay" class="modal-overlay" onclick="closeModal()" style="display: none;">
        <div class="modal" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h3 id="modalTitle">Ba≈ülƒ±k</h3>
                <button class="modal-close" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Modal i√ßeriƒüi buraya gelecek -->
            </div>
        </div>
    </div>

    <!-- Bildirim Dropdown -->
    <div id="notificationDropdown" class="notification-dropdown" style="display: none;">
        <div class="dropdown-header">
            <h3>Bildirimler</h3>
            <button onclick="markAllNotificationsRead()">T√ºm√ºn√º okundu i≈üaretle</button>
        </div>
        <div id="notificationsList" class="notifications-list">
            <p class="loading">Bildirim yok</p>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="config.js"></script>
    <script src="app.js"></script>
</body>
</html>
